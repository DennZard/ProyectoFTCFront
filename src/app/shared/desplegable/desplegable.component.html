<header class="app-header">
  <div class="logo">Mi Aplicación</div>
  <div class="user-actions">
    <ng-container *ngIf="usuario; else loginRegister">
      <span class="username">👤 {{ usuario.username }}</span>
    </ng-container>
    <ng-template #loginRegister>
      <button class="header-btn" (click)="goToLogin()">Login</button>
      <button class="header-btn" (click)="goToRegister()">Registro</button>
    </ng-template>
  </div>
</header>

<div class="sidebar-container" [class.open]="isOpen">
  <button class="close-btn" (click)="toggleSidebar()">×</button>
  <nav class="sidebar-nav">
    <a (click)="goToMain(); toggleSidebar()">🏠 Inicio</a>
    <a (click)="goToProducts(); toggleSidebar()">👤 Productos</a>
    <div>
      <button class="dropdown-toggle" (click)="toggleSubMenu('company')">
        🏢 Empresa
      </button>
      <div *ngIf="openSubMenu === 'company' && usuario" class="sub-menu">
        <a *ngIf = "!usuario.hasRole('Seller')" (click)="navigateTo('/main/compania/nueva'); toggleSidebar()">🏭 Crear Compañia</a>
        <a *ngIf = "usuario.hasRole('Seller')" (click)="navigateTo('/main/compania/productos'); toggleSidebar()">📦 Productos</a>
        <a *ngIf = "usuario.hasRole('Seller')" (click)="navigateTo('/main/compania/nuevo-producto'); toggleSidebar()">➕ Nuevo Producto</a>
      </div>
      <button *ngIf="usuario.hasRole('Admin')" class="dropdown-toggle" (click)="toggleSubMenu('admin')">
        🏢 Admin
      </button>
      <div *ngIf="openSubMenu === 'admin' && usuario" class="sub-menu">
        <a *ngIf = "usuario.hasRole('Admin')" (click)="navigateTo('/main/admin/nuevo'); toggleSidebar()">➕ Registrar Empleado</a>
        <a *ngIf = "usuario.hasRole('Admin')" (click)="navigateTo('/main/admin/empleados'); toggleSidebar()">👤 Empleados</a>
        <a *ngIf = "usuario.hasRole('Admin')" (click)="navigateTo('/main/admin/compania'); toggleSidebar()">🏢 Companias</a>
      </div>
    </div>
  </nav>
</div>

<button class="open-sidebar-btn" (click)="toggleSidebar()">☰</button>
